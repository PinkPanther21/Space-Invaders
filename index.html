<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Invaders</title>
    <style>
        /* General Styles */
        body {
            font-family: 'Press Start 2P', monospace;
            background-color: black;
            color: #00ff00;
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
            text-align: center;
            font-size: 24px;
            text-shadow: 0 0 10px #00ff00;
            margin: 10px 0;
        }

        canvas {
            display: block;
            margin: 0 auto;
            background: url('sp2.png') repeat;
            border: 3px solid #00ff00;
        }

        footer {
            text-align: center;
            font-size: 12px;
            color: #00ff00;
        }

        #controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }

        .button {
            display: inline-block;
            color: #000;
            background-color: #ff00ff;
            border: 2px solid #ff00ff;
            padding: 5px 10px;
            border-radius: 5px;
            margin: 5px;
            text-transform: uppercase;
            font-size: 14px;
            cursor: pointer;
            text-shadow: 0 0 5px #ff00ff;
            transition: transform 0.2s;
        }

        .button:hover {
            transform: scale(1.1);
            background-color: #00ff00;
            color: #000;
        }

        #score {
            position: fixed;
            top: 10px;
            left: 10px;
            font-size: 16px;
            color: #00ff00;
        }

        #game-over {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            text-shadow: 0 0 15px #ff0000;
            color: #ff0000;
            animation: flicker 1.5s infinite;
        }

        @keyframes flicker {
            0%, 50%, 100% {
                opacity: 1;
            }
            25%, 75% {
                opacity: 0.5;
            }
        }
    </style>
</head>
<body>
    <header>Space Invaders</header>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="score">Score: 0</div>
    <div id="game-over">GAME OVER</div>
    <footer>&copy; 1980s Space Invaders Tribute</footer>
    <script>
        // Setup Canvas
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const spaceship = { x: 280, y: 350, width: 40, height: 20, color: '#00ff00' };
        const lasers = [];
        const aliens = [];
        let score = 0;
        let gameOver = false;

        // Create Aliens
        for (let i = 0; i < 5; i++) {
            for (let j = 0; j < 8; j++) {
                aliens.push({
                    x: j * 60 + 30,
                    y: i * 40 + 30,
                    width: 40,
                    height: 20,
                    color: '#ff0000',
                    alive: true
                });
            }
        }

        // Draw the spaceship
        function drawSpaceship() {
            ctx.fillStyle = spaceship.color;
            ctx.fillRect(spaceship.x, spaceship.y, spaceship.width, spaceship.height);
        }

        // Draw lasers
        function drawLasers() {
            ctx.fillStyle = '#00ffff';
            lasers.forEach(laser => {
                ctx.fillRect(laser.x, laser.y, 5, 10);
                laser.y -= 5;
            });
        }

        // Draw aliens
        function drawAliens() {
            aliens.forEach(alien => {
                if (alien.alive) {
                    ctx.fillStyle = alien.color;
                    ctx.fillRect(alien.x, alien.y, alien.width, alien.height);
                }
            });
        }

        // Check collisions
        function checkCollisions() {
            lasers.forEach(laser => {
                aliens.forEach(alien => {
                    if (
                        alien.alive &&
                        laser.x < alien.x + alien.width &&
                        laser.x + 5 > alien.x &&
                        laser.y < alien.y + alien.height &&
                        laser.y + 10 > alien.y
                    ) {
                        alien.alive = false;
                        laser.hit = true;
                        score += 10;
                    }
                });
            });
            lasers = lasers.filter(laser => !laser.hit && laser.y > 0);
        }

        // Game Loop
        function gameLoop() {
            if (gameOver) {
                document.getElementById('game-over').style.display = 'block';
                return;
            }

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawSpaceship();
            drawLasers();
            drawAliens();
            checkCollisions();
            document.getElementById('score').textContent = `Score: ${score}`;

            // End game if all aliens are defeated
            if (aliens.every(alien => !alien.alive)) {
                gameOver = true;
            }

            requestAnimationFrame(gameLoop);
        }

        // Move spaceship
        document.addEventListener('keydown', event => {
            if (event.key === 'ArrowLeft' && spaceship.x > 0) {
                spaceship.x -= 10;
            } else if (event.key === 'ArrowRight' && spaceship.x + spaceship.width < canvas.width) {
                spaceship.x += 10;
            } else if (event.key === ' ') {
                lasers.push({ x: spaceship.x + spaceship.width / 2 - 2.5, y: spaceship.y });
            }
        });

        // Start game
        gameLoop();
    </script>
</body>
</html>
